@using Dywt.App.Infrastructure
@using Dywt.Web
@model Dywt.App.Models.MonthViewModel

@{
    ViewBag.Title = Model.TheFirst.ToString("MMMM yyyy");
}

<div role="navigation">
    <a href="@Url.Action("Index", new { year = Model.PreviousMonth.Year, month = Model.PreviousMonth.Month })">&lt; @Model.PreviousMonth.ToString("MMMM")</a>
    | <a href="@Url.Action("Index", new { year = Model.NextMonth.Year, month = Model.NextMonth.Month })">@Model.NextMonth.ToString("MMMM") &gt;</a>
</div>

<h2>@ViewBag.Title</h2>

<ol class="calendar cf">
    @foreach(var tile in Model.Tiles)
    {
        <li class="@tile.DidYouWork.ToLabels("worked", "away", "unknown") @((tile.Date.Month != Model.TheFirst.Month).ToLabels("filler", ""))">
            <a href="@Url.Action("Entry", "Day", new { date = tile.Date.ToString("yyyy-MM-dd") })">
                <span class="day @((tile.Date == UserTime.LocalNow().Date).ToLabels("today", ""))" aria-hidden="true" role="presentation">@tile.Date.Day</span>
                <h3>@tile.Date.ToShortDateString()</h3>
                <p>
                    @tile.DidYouWork.ToLabels("Worked", "Away", "Unknown")
                </p>
            </a>
        </li>
    }
</ol>